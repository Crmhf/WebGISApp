<html>
<head>
    <title>Hello, World! example for mxGraph</title>
    <script type="text/javascript" src="3rd/ktwDev/js/jquery.min.js"></script>
    <!-- 如果不在相同路径，设置basepath为开发库的路径 -->
    <!-- Sets the basepath for the library if not in same directory -->
    <script type="text/javascript">
        mxBasePath = '3rd/mxGraph/src';
    </script>
    <!-- Loads and initializes the library -->
    <script type="text/javascript" src="3rd/mxGraph/src/js/mxClient.js"></script>



    <!-- 示例代码 -->
    <script type="text/javascript">
        // 程序从这里开始。创建DOM节点中指定标记的简单图形。
        // 方法在文档的onLoad事件处理中被调用（如下所示）。
        function main(container)
        {
            // 检查浏览器支持
            if (!mxClient.isBrowserSupported())
            {
                mxUtils.error('Browser is not supported!', 200, false);
            }
            else
            {
                // 在指定容器中创建图形
                var graph = new mxGraph(container);

                // 激活橡皮圈选择
                new mxRubberband(graph);

                // 拿到插入单元的默认父节点。
                // 这通常是根节点的第一子节点（如0层）。
                var parent = graph.getDefaultParent();

                // 在一个步骤中，加入所有的单元到模型中
                graph.getModel().beginUpdate();
                try
                {
                    var v1 = graph.insertVertex(parent, null,
                            'Hello,', 20, 20, 80, 30);
                    var v2 = graph.insertVertex(parent, null,
                            'World!', 200, 150, 80, 30);
                    var e1 = graph.insertEdge(parent, null, '', v1, v2);
                }
                finally
                {
                    // 更新显示
                    graph.getModel().endUpdate();
                }
            }
        };

        $(document).ready(function(){
            var container =  document.getElementById('graphContainer');
            main(container);
        });
    </script>
</head>

<!-- 页面传递图形的容器给程序 -->
<body>

<!-- 创建一个带有网格背景图的容器 -->
<div id="graphContainer"
        style="overflow:hidden;width:321px;height:241px;background:url('editors/images/grid.gif')">
</div>
</body>
</html>