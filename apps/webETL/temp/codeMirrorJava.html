<!DOCTYPE html>
<html>
<link rel="stylesheet" href="../3rd/code/codemirror.css">
<script src="../3rd/code/codemirror.js"></script>
<script src="../3rd/code/mode/clike/clike.js"></script>

<!--引入css文件，用以支持主题-->
<link rel="stylesheet" href="../3rd/codeMirror/theme/seti.css">
<head>
    <title>CodeMirror Test</title>
</head>
<body>
<textarea id="code">

  public boolean processRow(StepMetaInterface smi, StepDataInterface sdi) throws KettleException
{
    Object[] r = getRow();
    if (r == null) {
        setOutputDone();
        return false;
    }

    if (first)
    {
        first = false;
    }

    // It is always safest to call createOutputRow() to ensure that your output row's Object[] is large
    // enough to handle any new fields you are creating in this step.
    r = createOutputRow(r, outputRowSize);

    /* TODO: Your code here. (See Sample)

     // Get the value from an input field
     String foobar = get(Fields.In, "a_fieldname").getString(r);

     foobar += "bar";

     // Set a value in a new output field
     get(Fields.Out, "output_fieldname").setValue(r, foobar);

     */
    // Send the row on to the next step.
    putRow(data.outputRowMeta, r);

    return true;
}

</textarea>
</body>
<script type="text/javascript">
    var editor=CodeMirror.fromTextArea(document.getElementById("code"),{
        mode:"text/x-java",
        lineNumbers:true,
        theme:"seti",
        //代码折叠
        lineWrapping:true,
        foldGutter: true
    });
</script>
</html>