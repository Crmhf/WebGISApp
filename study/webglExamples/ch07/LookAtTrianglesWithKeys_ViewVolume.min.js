var VSHADER_SOURCE="attribute vec4 a_Position;\nattribute vec4 a_Color;\nuniform mat4 u_ViewMatrix;\nuniform mat4 u_ProjMatrix;\nvarying vec4 v_Color;\nvoid main() {\n  gl_Position = u_ProjMatrix * u_ViewMatrix * a_Position;\n  v_Color = a_Color;\n}\n";var FSHADER_SOURCE="#ifdef GL_ES\nprecision mediump float;\n#endif\nvarying vec4 v_Color;\nvoid main() {\n  gl_FragColor = v_Color;\n}\n";function main(){var a=document.getElementById("webgl");var e=getWebGLContext(a);if(!e){console.log("Failed to get the rendering context for WebGL");return}if(!initShaders(e,VSHADER_SOURCE,FSHADER_SOURCE)){console.log("Failed to intialize shaders.");return}var g=initVertexBuffers(e);if(g<0){console.log("Failed to specify the vertex infromation");return}e.clearColor(0,0,0,1);var c=e.getUniformLocation(e.program,"u_ViewMatrix");var f=e.getUniformLocation(e.program,"u_ProjMatrix");if(!c||!f){console.log("Failed to get u_ViewMatrix or u_ProjMatrix");return}var b=new Matrix4();document.onkeydown=function(h){keydown(h,e,g,c,b)};var d=new Matrix4();d.setOrtho(-1,1,-1,1,0,2);e.uniformMatrix4fv(f,false,d.elements);draw(e,g,c,b)}function initVertexBuffers(f){var b=new Float32Array([0,0.5,-0.4,0.4,1,0.4,-0.5,-0.5,-0.4,0.4,1,0.4,0.5,-0.5,-0.4,1,0.4,0.4,0.5,0.4,-0.2,1,0.4,0.4,-0.5,0.4,-0.2,1,1,0.4,0,-0.6,-0.2,1,1,0.4,0,0.5,0,0.4,0.4,1,-0.5,-0.5,0,0.4,0.4,1,0.5,-0.5,0,1,0.4,0.4]);var g=9;var e=f.createBuffer();if(!e){console.log("Failed to create the buffer object");return -1}f.bindBuffer(f.ARRAY_BUFFER,e);f.bufferData(f.ARRAY_BUFFER,b,f.STATIC_DRAW);var a=b.BYTES_PER_ELEMENT;var d=f.getAttribLocation(f.program,"a_Position");if(d<0){console.log("Failed to get the storage location of a_Position");return -1}f.vertexAttribPointer(d,3,f.FLOAT,false,a*6,0);f.enableVertexAttribArray(d);var c=f.getAttribLocation(f.program,"a_Color");if(c<0){console.log("Failed to get the storage location of a_Color");return -1}f.vertexAttribPointer(c,3,f.FLOAT,false,a*6,a*3);f.enableVertexAttribArray(c);return g}var g_EyeX=0.2,g_EyeY=0.25,g_EyeZ=0.25;function keydown(c,d,e,b,a){if(c.keyCode==39){g_EyeX+=0.01}else{if(c.keyCode==37){g_EyeX-=0.01}else{return}}draw(d,e,b,a)}function draw(c,d,b,a){a.setLookAt(g_EyeX,g_EyeY,g_EyeZ,0,0,0,0,1,0);c.uniformMatrix4fv(b,false,a.elements);c.clear(c.COLOR_BUFFER_BIT);c.drawArrays(c.TRIANGLES,0,d)};